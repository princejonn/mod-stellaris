namespace = pjs_systems_awakened_event

event = {
	id = pjs_systems_awakened_event.1

	hide_window = yes
	is_triggered_only = yes

	immediate = {
        every_planet = {
            limit = { has_planet_flag = awakened_start }

            change_pc = "pc_ringworld_habitable"

            clear_deposits = yes

            while = {
                count = 10
                remove_district = district_city
                remove_district = district_generator
                remove_district = district_generator_uncapped
                remove_district = district_mining
                remove_district = district_farming
                remove_district = district_farming_uncapped
            }

            while = {
                count = 10
                add_district = district_city
            }

            while = {
                count = 5
                add_district = district_generator_uncapped
            }

            while = {
                count = 5
                add_district = district_farming_uncapped
            }

            if = {
                limit = { owner = { is_gestalt = no } }
                add_district = district_farming_uncapped
                add_district = district_ringworld_regular
            }

            while = {
                count = 12
                create_pop = { species = owner_main_species }
            }

            while = {
                count = 6
                add_deposit = d_stasis_chambers
            }

            set_graphical_culture = root.from

            owner = {
                give_technology = { tech = "tech_physics_1" message = no }
                give_technology = { tech = "tech_society_1" message = no }
                give_technology = { tech = "tech_engineering_1" message = no }
                give_technology = { tech = "tech_planetary_unification" message = no }

                give_technology = { tech = "tech_wormhole_stabilization" message = no }
                give_technology = { tech = "tech_experimental_subspace_navigation" message = no }
                give_technology = { tech = "tech_psionic_theory" message = no }
                give_technology = { tech = "tech_mine_zro" message = no }

                add_resource = { energy = 2000 }
                add_resource = { minerals = 2000 }
                if = {
                    limit = { is_machine_empire = no }
                    add_resource = { food = 2000 }
                }
                add_resource = { alloys = 500 }
                if = {
                    limit = { is_gestalt = no }
                    add_resource = { consumer_goods = 500 }
                }
                add_resource = { influence = 500 }
                add_resource = { unity = 500 }

                owner_species = {
                    add_trait = trait_pc_gaia_preference

                    remove_trait = trait_pc_desert_preference
                    remove_trait = trait_pc_arid_preference
                    remove_trait = trait_pc_savannah_preference
                    remove_trait = trait_pc_tropical_preference
                    remove_trait = trait_pc_continental_preference
                    remove_trait = trait_pc_ocean_preference
                    remove_trait = trait_pc_arctic_preference
                    remove_trait = trait_pc_tundra_preference
                    remove_trait = trait_pc_alpine_preference
                }
            }
        }
	}
}
