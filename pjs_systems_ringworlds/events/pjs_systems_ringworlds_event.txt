namespace = pjs_systems_ringworlds_event

planet_event = {
	id = pjs_systems_ringworlds_event.1

	hide_window = yes
	is_triggered_only = yes

	immediate = {
        if = {
            limit = { has_planet_flag = ring_world_start }

            change_pc = "pc_ringworld_habitable"

            clear_deposits = yes

            while = {
                count = 10
                remove_district = district_city
                remove_district = district_generator
                remove_district = district_generator_uncapped
                remove_district = district_mining
                remove_district = district_mining_uncapped
                remove_district = district_farming
                remove_district = district_farming_uncapped
            }

            while = {
                count = 14
                add_district = district_city
            }

            while = {
                count = 3
                add_district = district_generator_uncapped
            }

            while = {
                count = 3
                add_district = district_farming_uncapped
            }

            while = {
                count = 5
                create_pop = { species = owner_main_species }
            }
        }
	}
}
