namespace = pjs_systems_dune_event

event = {
	id = pjs_systems_dune_event.1

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { NOT = { any_system = { has_star_flag = dune_alpha_carinae } } }
			random_system = { spawn_system = { initializer = misc_pjs_alpha_carinae } }
		}
		if = {
			limit = { NOT = { any_system = { has_star_flag = dune_delta_pavonis } } }
			random_system = { spawn_system = { initializer = misc_pjs_delta_pavonis } }
		}
		if = {
			limit = { NOT = { any_system = { has_star_flag = dune_ophiuchi } } }
			random_system = { spawn_system = { initializer = misc_pjs_ophiuchi } }
		}
		if = {
			limit = { NOT = { any_system = { has_star_flag = dune_tau_haruki } } }
			random_system = { spawn_system = { initializer = misc_pjs_tau_haruki } }
		}
	}
}

planet_event = {
	id = pjs_systems_dune_event.2

	hide_window = yes
	is_triggered_only = yes

	immediate = {
	    if = {
            limit = { has_planet_flag = dune_kaitain_start }

            change_pc = "pc_gaia"

            add_deposit = d_kaitain_hassik_iii_center_deposit
            add_deposit = d_kaitain_imperial_necropolis_deposit
            add_deposit = d_kaitain_imperial_observatory_deposit
            add_deposit = d_kaitain_imperial_palace_deposit
            add_deposit = d_kaitain_imperial_prison_deposit
            add_deposit = d_kaitain_ishaq_hall_deposit
            add_deposit = d_kaitain_landsraad_hall_deposit
	    }
	}
}

planet_event = {
	id = pjs_systems_dune_event.3

	hide_window = yes
	is_triggered_only = yes

	immediate = {
	    if = {
            limit = { has_planet_flag = dune_arrakis_start }

            change_pc = "pc_desert"

            while = { count = 5
                add_deposit = d_arrakis_deposit
            }

            generate_energy_deposits = yes
            generate_mineral_deposits = yes
            generate_betharian_deposit = yes
            generate_betharian_deposit = yes
            generate_crystals_deposit = yes
            generate_motes_deposit = yes
            generate_gases_deposit = yes
	    }
	}
}
